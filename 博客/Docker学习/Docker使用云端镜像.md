## Docker使用云端镜像

​	上一篇博客讲了如何通过Dockerfile构建自己的镜像，但是还没有具体的时间，后续可能会出一个自己实践的博客来构建自己的镜像，但是今天是来介绍一下如何将自己的镜像放到云上让大家都可以使用。下面就直接开始吧。

​	大家在使用镜像前都会将Docker镜像仓库的地址修改为阿里云的地址，这个镜像仓库就是本次博客要讲的东西。和git的仓库概念一样，镜像仓库也相当于git中的代码仓库，下载某个项目的代码在Docker中就相当于pull某个镜像。镜像分为两种，一种是官方的镜像，这类镜像有安全保障，镜像会及时更新，比较安全。另外一种就是单独的镜像，不能保证安全，但是不能说明这类镜像不够好，这类镜像相当大一部分都是个人做的，部分镜像也是比较好用的。今天我们就来制作一个自己的镜像，选择的是阿里云的Docker镜像服务。

​	登录阿里云地址，创建自己的命名空间。[阿里云镜像仓库登录地址](https://cr.console.aliyun.com/cn-hangzhou/instances/repositories)，创建完命名空间后，创建自己的镜像仓库。如下图：

![image-20201123112421847](https://1162210866.oss-cn-beijing.aliyuncs.com/uPic/image-20201123112421847.png)

​	创建完毕，开始在本地机器上登录你的阿里云账号。在控制台可以看到登录的命令，密码是你自己设置的。

![image-20201123161057139](https://1162210866.oss-cn-beijing.aliyuncs.com/uPic/image-20201123161057139.png)

​	如果要下载私有镜像，登录完毕就可以下载了。如果需要上传镜像，需要把本地的镜像打个tag。命令格式如下图所示。

![image-20201123161358836](https://1162210866.oss-cn-beijing.aliyuncs.com/uPic/image-20201123161358836.png)

​	命令执行截图如下：

![image-20201123162220087](https://1162210866.oss-cn-beijing.aliyuncs.com/uPic/image-20201123162220087.png)

打完，直接push就可以上传了，刷新你的管理页面就可以看到镜像已经上传了。

![image-20201123162138266](https://1162210866.oss-cn-beijing.aliyuncs.com/uPic/image-20201123162138266.png)

​	管理页面截图：

![image-20201123162248038](https://1162210866.oss-cn-beijing.aliyuncs.com/uPic/image-20201123162248038.png)

​	因为这里仓库是公共的，换了一台机器，直接下载，下载完成，代表镜像已经成功上传到云上。截图如下：

![image-20201123174126899](https://1162210866.oss-cn-beijing.aliyuncs.com/uPic/image-20201123174126899.png)

​	至此，镜像上传到云上的流程就已经走通了，结合上一篇博客，就是自己构建镜像，再将镜像上传到云上。流程通了后，剩下就是慢慢梳理细节了。可能下一篇博客就是搭建一个真正的属于自己的镜像，再直接下载到其他机器上。准备的是搭建一个VNC的镜像，也有可能换（因为不清楚VNC最后能不能满足需求）。

​	就这样吧，结束。